<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>闭包</title>
    <script>
        //闭包的好处
        // 1.希望长期驻扎在内存中
        // 2.避免全局污染
        //3.私有成员的存在

        //用法
        // 1.模块化代码
        // 2.在循环中直接找到对应元素的索引
           window.onload=function(){
               var aLi=document.getElementsByTagName('li');
               for(var i=0;i<aLi.length;i++){
                    // aLi[i].index=i;
                    // aLi[i].onclick=function(){
                    //     alert(i)
                    // }
                    //这里没错点击的li都是弹出3 是因为循环执行时候 点击是没有执行的 当点击事件执行的的时候循环已经执行完了 所有点击都会是弹出3

                    // (function(i){
                    //     aLi[i].onclick=function(){
                    //         alert(i);
                    //     }
                    // })(i)
                    //这里的思想是，没错循环的时候就自己执行一次 将i的值作为参数传递到函数中去

                    aLi[i].onclick=(function(i){
                        return function(){
                            alert(i);
                        }
                    })(i)
                    //这里是 （）（）执行完了之后的i被驻扎在内存之中 存在疑惑。。。。。。。。。。。。。。。。。。。。。。。
               }
               
           } 
    </script>
</head>
<body>
    <ul>
        <li>1111111111111111</li>
        <li>1111111111111111</li>
        <li>1111111111111111</li>
    </ul>
</body>
</html>