<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        .box {
            margin: 100px auto 0;
            width: 80%;
        }
        .clear:after {
            content: '';
            display: block;
            clear: both;
        }
        .tab {
            width: 600px;
            border: 1px solid #dcdfe6;
            box-shadow: 0 2px 4px 0 rgba(0,0,0,.2);
        }
        ul {
            margin: 0;
            padding: 0;
            list-style: none;
            background: #f5f7fa;
            border-bottom: 1px solid #e4e7ed;
            position: relative;
        }
        li {
            float: left;
            padding: 0 20px;
            margin: 0 0 -1px -1px;
            position: relative;
            height: 40px;
            border: 1px solid transparent;
            line-height: 40px;
            cursor: pointer;
            transition: .2s all;
        }
        li:hover {
            color: rgb(64, 158, 255);
        }
        li.active {
            background: #fff;
            border-right-color: #dcdfe6;
            border-left-color: #dcdfe6;
            color: rgb(64, 158, 255);
        }
        .tab .content {
            padding: 10px;
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
</head>
<body>
	<div id="app">
		<an-tab :datao="item1" :v="n" @change="changeone"></an-tab>
		<button @click="getTabIndex">获取选中的索引</button>
		<an-tab :datao="item2" :v="n"></an-tab>
	</div>
    <script type="text/javascript">
    	Vue.component('an-tab',{
    		props:['datao','v'],
    		data(){
    			return{
    				value:this.v
    			}
    		},
    		template:`
			<div class="box">
				<div class="tab">
					<ul class="clear">
						<li
							v-for="item,index in datao"
							:class="{'active':index==value}"
							@click="choose(index)"
						>{{item.name}}</li>
					</ul>
					<div class="content">
						<p>{{datao[value].content}}</p>
					</div>
				</div>
			</div>
			`,
			methods:{
				choose(index){
					this.value=index
					this.$emit('change',this.value)
				}
			}
    	})
    	let vm=new Vue({
    		el:"#app",
    		data:{
    			item1:[
    				{name:'北京',content:'这里是北京'},
					{name:'上海',content:'这里是上海'},
					{name:'广州',content:'这里是广州'},
					{name:'深圳',content:'这里是深圳'},
					{name:'武汉',content:'这里是武汉'}
    			],
    			item2:[
    				{name:'html',content:'这里是html'},
					{name:'php',content:'这里是php'},
					{name:'java',content:'这里是java'},
					{name:'payth',content:'这里是payth'}
    			],
    			n:0,
    			tabIndex:0
    		},
    		methods:{
    			changeone(v){
    				this.tabIndex=v;
    			},
    			getTabIndex(){
    				console.log(this.tabIndex)
    			}
    		}
    	})
    </script>

</body>
</html>